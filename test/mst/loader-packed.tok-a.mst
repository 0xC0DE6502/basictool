    1*FX229,1
    2*FX4,1
    3V=FALSE:ONERRORGOTO100
    5V=FNu(&49,&FF,0)=&49:ONERRORPROCe
  102*EXEC
  103CLOSE#0:A%=&85:X%=135:po=(USR&FFF4AND&FFFF00)DIV&100:IFpo=&8000ANDHIMEM<&8000THENMODE135:CHAIN"LOADER"
  106VDU23,16,0,254,0;0;0;:f=&409:C=&40A:?&40B=3:s=&403:DIMb%256:A%=0:X%=1:h=(USR&FFF4AND&FF00)DIV&100:IFVTHENh=1
  114e=h=0:*/FINDSWR
  116ONERRORGOTO500
  117*INFO XYZZY1
  500ONERRORPROCe
  501sh=po=&8000:F$="":t=PAGE<&E00:IFtTHENPROCd
  505pr=FALSE:IFshANDNOTtTHENPROCa
  507PROCt:MODE135:VDU23,1,0;0;0;0;:?f=7:?C=4:IFeTHENVDU19,0,?C,0;0,19,7,?f,0;0
  511IFeTHENPROClELSEPROCb
  512z=&87:no=z+16:S=&83:T=&83:U=&81:L=0:IFeTHENz=0:no=32:S=0:L=32
  514PRINTCHR$S;"Hardware detected:":v=VPOS:IFtTHENPRINTCHR$z;"  Second processor";t$
  517IFshTHENPRINTCHR$z;"  Shadow RAM ";F$
  518IFG$<>""THENPRINTCHR$z;"  ";G$
  519IFv=VPOSTHENPRINTCHR$z;"  None"
  520PRINT:K=VPOS:PROCc:IFtORshTHENPROCmELSE?s=7+e:m=VPOS:PROCs:PROCp:REPEATUNTILFNh(GET)
  524IF?s=7THEN?f=6
  525PRINTTAB(0,sp);CHR$z;"Loading:";:ps=POS:PRINT"                               ";:PRINTTAB(ps,sp);CHR$no;:VDU23,255,-1;-1;-1;-1;:IFtTHEN*/:0.$.CACHE2P
  529IFNOTtTHEN?&408=FNcDIV256
  530O=FNf:IFO<>4THENp$=FNp
  532IFO=5THEN*DIR
  533ONERRORGOTO1000
  534IFO=4THENPROCo("DIR S")ELSE*DIR SAVES
 1000ONERRORPROCe
 1001IFO=4THENf$="/"+b$ELSEf$=p$+".DATA"
 1002IFLENf$>=49THENPROCi("Game data path too long")
 1003P=&42F:$P=f$:*FX4,0
 1006IFO=4THENPROCo($P)ELSEPROCo("/"+p$+"."+b$)
 1007END
 1008DEFPROCe:CLS:REPORT:PRINT" at line ";ERL:PROCf
 1009DEFPROCi(m$):VDU28,0,sp,39,K,12:PROCr(z,m$):PRINT
 1013DEFPROCf:*FX229,0
 1015*FX4,0
 1016END
 1017DEFPROCl:VDU23,128,0;0,255,255,0,0;:PRINTTAB(0,23);STRING$(40,CHR$128);"Powered by Ozmoo 6.0 (Acorn alpha 16)";:IFPOS=0THENVDU30,11ELSEVDU30
 1021PRINT"Hollywoo";:IFPOS>0THENPRINT
 1022PRINTSTRING$(40,CHR$128);:PRINT:sp=22:ENDPROC
 1025DEFPROCb:PRINTTAB(0,21);:PRINT:PRINT:PRINTCHR$147;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";:PRINTCHR$131;"Powered by Ozmoo 6.0 (Acorn alpha 16)";:IFPOS=0THENVDU30,11ELSEVDU30
 1031PRINTCHR$141;"Hollywoo":PRINTCHR$141;"Hollywoo":PRINTCHR$147;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,";:PRINT:PRINTTAB(0,4);:sp=22:ENDPROC
 1037DEFPROCc:IFtTHENb$=":0.$.OZMOO2P":ENDPROC
 1039PROCh:IFPAGE>YTHENPROCi("Sorry, you need PAGE<=&"+STR$~Y+"; it is &"+STR$~PAGE+".")
 1041M=Y-PAGE:IFVTHENvm=&2C00ELSEvm=0
 1043Q=sw-vm:IFZTHENPROCk:ENDPROC
 1045Q=Q-sr:IFQ<0THENM=M+Q:Q=0
 1047PROCu(&400):IFM<0THENPROC_(-M,"main or sideways RAM")
 1049R=M:ENDPROC
 1051DEFPROCk:Q=Q-sr:PROCu(&400):IFQ<0THENPROC_(-Q,"sideways RAM")
 1055IFM<0THENPROC_(-M,"main RAM")
 1056R=M:ENDPROC
 1058DEFPROCu(n):IFvm>0THENd=FNm(n,vm):vm=vm-d:n=n-d
 1060IFQ>0THENd=FNm(n,Q):Q=Q-d:n=n-d
 1061M=M-n:ENDPROC
 1063DEFFNc:p=PAGE:IFNOTshTHEN=p
 1066IFNOTsaTHEN=p
 1067IF?s=0THEN=p
 1068sd=FNm(4*256,R):IFp+sd>=&3000THENsd=&3000-p
 1070IFsd<512THENsd=0
 1071=p+sd
 1072DEFFNm(a,b):IFa<bTHEN=aELSE=b
 1074DEFFNu(A%,X%,Y%)=(USR&FFF4AND&FF00)DIV&100
 1075DEFPROCh:IFeTHENb$=":0.$.OZMOOE":Y=6400:sr=&3000:Z=TRUE:ENDPROC
 1077IFshTHENb$=":0.$.OZMOOSH":Y=8960:sr=0:Z=FALSE:ENDPROC
 1078b$=":0.$.OZMOOB":Y=8448:sr=-&400:Z=FALSE:ENDPROC
 1080DEFPROCm:DIMm(8),A(8):j=2:q=1:DIMm$(j,q),B(j):m$(0,0)="0) 80x32":m$(0,1)="3) 80x25":m$(1,0)="4) 40x32":m$(1,1)="6) 40x25":m$(2,0)="7) 40x25   ":m$(2,1)="   teletext":IFeTHENj=1:B$="0346"ELSEB$="03467"
 1092FORy=qTO0STEP-1:FORx=0TOj:r=VALLEFT$(m$(x,y),1):m(r)=x:A(r)=y:NEXT:NEXT:PRINTCHR$S;"Screen mode:";CHR$z;CHR$L;"(hit ";:H$="":FORi=1TOLEN(B$):PRINTH$;MID$(B$,i,1);:H$="/":NEXT:PRINT" to change)":u=VPOS:IFj=2THENg=0ELSEg=5
 1096FORy=0TOq:PRINTTAB(0,u+y);CHR$z;:FORx=0TOj:B(x)=POS:PRINTSPC2;m$(x,y);SPC(2+g);:NEXT:NEXT:m=u+q+2:C$="7":IFINSTR(B$,C$)=0THENC$=RIGHT$(B$,1)
 1099x=m(VALC$):y=A(VALC$):PROCg(x,y,TRUE):PROCp:REPEAT:o=x:ol=y:k=GET:IFk=136ANDx>0THENx=x-1
 1104IFk=137ANDx<jTHENx=x+1
 1105IFk=138ANDy<qTHENy=y+1
 1106IFk=139ANDy>0THENy=y-1
 1107k$=CHR$k:IFINSTR(B$,k$)<>0THENx=m(VALk$):IFNOTFNi(x)THENy=A(VALk$)
 1108IFx<>oOR(y<>olANDNOTFNi(x))THENPROCg(o,ol,FALSE):PROCg(x,y,TRUE)
 1109UNTILFNh(k):ENDPROC
 1111DEFFNh(k):IFeANDk=2THEN?C=(?C+1)MOD8:VDU19,0,?C,0;0
 1113IFeANDk=6THEN?f=(?f+1)MOD8:VDU19,7,?f,0;0
 1114=k=32ORk=13
 1115DEFPROCg(x,y,on):IFonANDFNi(x)THEN?s=7ELSEIFonTHEN?s=VAL(m$(x,y))
 1117IFonTHENPROCs
 1118IFeTHENPROCn(x,y,on):ENDPROC
 1119IFFNi(x)THENPROCA(x,0,on):y=1
 1120DEFPROCA(x,y,on):IFx<2THENPRINTTAB(B(x)+3+LENm$(x,y),u+y);CHR$z;CHR$156;
 1122PRINTTAB(B(x)-1,u+y);:IFonTHENPRINTCHR$U;CHR$157;CHR$TELSEPRINT"  ";CHR$z
 1124ENDPROC
 1125DEFPROCn(x,y,on):PRINTTAB(B(x),u+y);:IFonTHENCOLOUR135:COLOUR0ELSECOLOUR128:COLOUR7
 1128PRINTSPC(2);m$(x,y);SPC(2);:COLOUR128:COLOUR7:ENDPROC
 1131DEFPROCr(c,m$):E$=CHR$c+STRING$(POS," "):i=1:VDUc:REPEAT:sc=INSTR(m$," ",i+1):IFsc=0THENw$=MID$(m$,i)ELSEw$=MID$(m$,i,sc-i)
 1138ne=POS+LENw$:IFne<40THENPRINTw$;" ";ELSEIFne=40THENPRINTw$;ELSEPRINT'E$;w$;" ";
 1140IFPOS=0ANDsc<>0THENPRINTE$;
 1141i=sc+1:UNTILsc=0:IFPOS<>0THENPRINT
 1144ENDPROC
 1145DEFPROCd:tu=0<>?&8F:?&40E=tu:IFtuTHENt$=" (256K)"ELSEt$=" (64K)"
 1149ENDPROC
 1150DEFPROCa:sa=TRUE:IFVTHENPROCw:ENDPROC
 1153IFeANDFNu(&EF,0,&FF)=&80THENPROCv:ENDPROC
 1154IFh=2THENPROCB:ENDPROC
 1155IFh>=3THENPROCC:ENDPROC
 1156sa=FALSE:F$="(screen only)":ENDPROC
 1158DEFPROCv:FORo%=0TO2STEP2:P%=&8C4:[OPT o%:CMP#&30:BCS F:STA l+2:LDX#0:.E:.l:LDA&FF00,X:BIT ou:JSR&FBFD:INX:BNE E:.ou:RTS:.F:STY st+2:TAY:LDX#0:.G:CLV:JSR&FBFD:.st:STA&FF00,X:INX:BNE G:RTS:]:NEXT:ENDPROC
 1186DEFPROCw:FORo%=0TO2STEP2:P%=&8C4:[OPT o%:STA W+2:STY s_+2:LDA#&6C:LDX#1:JSR&FFF4:LDY#0:.H:.W:LDA&FF00,Y:.s_:STA&FF00,Y:DEY:BNE H:LDA#&6C:LDX#0:JSR&FFF4:RTS:]:NEXT:ENDPROC
 1205DEFPROCB:pr=FALSE:N=&D9F:FORve=0TO26:IFN?(ve*3+2)>=128THENpr=TRUE
 1210NEXT:IFprTHENPROCD:ENDPROC
 1212so=&AF00:FORo%=0TO2STEP2:P%=&8C4:[OPT o%:LDX&F4:STX X+1:LDX#128:STX&F4:STX&FE30:JMP so:.su:.X:LDA#0:STA&F4:STA&FE30:RTS:]:O%=b%:P%=so:sy=O%:[OPT o%+4:STA W+2:STY s_+2:LDY#0:.H:.W:LDA&FF00,Y:.s_:STA&FF00,Y:DEY:BNE H:JMP su:]:sl=O%:P%=O%:[OPT o%:.I
 1243LDA&F4:STA&70:LDA#128:STA&F4:STA&FE30:LDY#sl-sy-1:.J:LDA sy,Y:STA so,Y:DEY:CPY#&FF:BNE J:LDA&70:STA&F4:STA&FE30:RTS:]:NEXT:CALLI:ENDPROC
 1255DEFPROCD:F$="(via OS)":FORo%=0TO2STEP2:P%=&8C4:[OPT o%:CMP#&30:BCS F:STA W+2:STY&D7:LDY#0:STY&D6:.E:.W:LDA&FF00,Y:JSR&FFB3:INY:BNE E:RTS:.F:STA&F7:STY sb+2:LDY#0:STY&F6:.G:JSR&FFB9:.sb:STA&FF00:INC&F6:INC sb+1:BNE G:RTS:]:NEXT:ENDPROC
 1284DEFPROCC:FORo%=0TO2STEP2:P%=&8C4:[OPT o%:STA W+2:STY s_+2:LDA#4:TSB&FE34:LDY#0:.H:.W:LDA&FF00,Y:.s_:STA&FF00,Y:DEY:BNE H:LDA#4:TRB&FE34:RTS:]:NEXT:ENDPROC
 1303DEFPROCt:sn=FNe(&904):G$="":sj=0:IFNOTtTHENPROCE
 1307IFFNe(&903)>2THENG$="("+STR$(sn*16)+"K unsupported sideways RAM)"
 1308sw=&4000*FNe(&904)-sj:IFsn=0THENENDPROC
 1310IFsw<=12*1024THENG$="12K private RAM":ENDPROC
 1311G$=STR$(swDIV1024)+"K sideways RAM (bank":IFsn>1THENG$=G$+"s"
 1312G$=G$+" &":FORi=0TOsn-1:D=FNe(&905+i):IFD>=64THENA$="P"ELSEA$=STR$~D
 1314G$=G$+A$:NEXT:G$=G$+")":ENDPROC
 1316DEFPROCE:IFsn<9ANDVTHENsn?&905=64:sn=sn+1:?&904=sn:sj=16*1024-&2C00
 1318IFsn<9ANDh=2THENIFNOTprTHENsn?&905=128:sn=sn+1:?&904=sn:sj=16*1024-&2E00
 1319ENDPROC
 1320DEFPROCF(D$):PROCi("Sorry, this game won't run on "+D$+".")
 1321DEFPROC_(A,r$):PROCi("Sorry, you need at least "+STR$(A/1024)+"K more "+r$+".")
 1322DEFPROCs:w=w:IFw=0THENPRINTTAB(0,m);CHR$S;"In-game controls:"ELSEPRINTTAB(0,m+1);
 1325PRINTCHR$z;"  SHIFT:  show next page of text":IF?s=7THENPRINTCHR$z;"  CTRL-F: change status line colour"
 1327IF?s=7THENPRINTCHR$z;"  CTRL-I: change input colour      "
 1328IF?s<>7THENPRINTCHR$z;"  CTRL-F: change foreground colour "
 1329IF?s<>7THENPRINTCHR$z;"  CTRL-B: change background colour "
 1330IF?s<>7THENPRINTCHR$z;"  CTRL-S: change scrolling mode    "
 1331IFVPOS<wTHENPRINTSPC(40*(w-VPOS));
 1332w=VPOS:ENDPROC
 1334DEFPROCp:PRINTTAB(0,sp);CHR$z;"Press SPACE/RETURN to start the game...";:ENDPROC
 1337DEFFNi(x)=LEFT$(m$(x,0),1)="7"
 1338DEFPROCo($b%):X%=b%:Y%=X%DIV256:CALL&FFF7:ENDPROC
 1339DEFFNe(B):!b%=&FFFF0000ORB:A%=5:X%=b%:Y%=b%DIV256:CALL&FFF1:=b%?4
 1340DEFFNf:A%=0:Y%=0:=USR&FFDAAND&FF
 1341DEFFNp:DIMd%256:p$="":REPEAT:b%!1=d%:A%=6:X%=b%:Y%=b%DIV256:CALL&FFD1:na=d%+1+?d%:na?(1+?na)=13:n$=FNs($(na+1)):p$=n$+"."+p$:IFn$<>"$"ANDn$<>"&"THEN*DIR ^
 1352UNTILn$="$"ORn$="&":p$=LEFT$(p$,LEN(p$)-1):?na=13:d$=FNs($(d%+1)):IFd$<>""THENp$=":"+d$+"."+p$
 1357PROCo("DIR "+p$):=p$
 1359DEFFNs(s$):s$=s$+" ":REPEAT:s$=LEFT$(s$,LEN(s$)-1):UNTILRIGHT$(s$,1)<>" ":=s$
 1363DEFFNa(a,b):IFa<bTHEN=bELSE=a
